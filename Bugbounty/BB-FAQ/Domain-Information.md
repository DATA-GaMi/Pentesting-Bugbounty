## Domain Information :

- Find Acquisition(google 6 month rule), ASNS, reversewhois,  (Identifying IPs and main TLDS)
  
		Example: List_of_mergers_and_acquisitions_by_COMPANYNAME
		https://en.wikipedia.org/wiki/List_of_mergers_and_acquisitions_by_Alphabet
		https://en.wikipedia.org/wiki/List_of_mergers_and_acquisitions_by_Meta_Platforms
    
		- Search eg :
		responsible disclosure 2022 
		Company responsible disclosure 
		Or check out the suggested keywords by bug hunters or search engines.
    
		- Go to bug bounty platform and filter our new listed programs manually. 
    - 3rd party webisite can be helpfull as well such as cruchbase etc. 


- To check ASN of IP of domains Visit : ASN Number eg : AS714
	
	https://bgp.he.net  or ASN Tool - MxToolBox
	
	
     - An Autonomous System Number (ASN) is a way to represent a collection of IPs and who owns them. 
	- The IP address pool is spread across five Regional Internet Registries (RIRs) AFRINIC, APNIC, ARIN, LACNIC, and RIPE NCC. 
	- The providers then allocate IP ranges to different organizations.
	- If a company wishes to buy a block of IP addresses, they must purchase it from one of these providers.
	
- To check CIDR range : eg 31.13.55.0/24
	
	- A Classless Inter-Domain Routing (CIDR) range is a short way of representing a group of IP addresses. 
	- Compromising a server hosted on a company’s CIDR range may lead you directly into their internal network.
	
	- Use (https://mxtoolbox.com/asn.aspx) to find a company’s ASN as well as their correlating CIDR ranges. Note that small organizations won’t have a dedicated CIDR range, they normally use third party cloud vendors such as AWS and Rackspace, or they will host their stuff under an internet service provider (ISP) IP. However, large companies tend to have their own CIDR range and we can use this information to target machines hosted there.

	- Amass Tool : To find domains on a given CIDR range.
			Amss intel -cidr  31.13.55.0/24
	
		
- Reverse Whois : To find assets owned by an organization or person.
	
	- There are several online sources that constantly monitor and scrape the whois database for analysis. We can use these services to find domains that are owned by the same organization.
	Reverse Whois Lookup - ViewDNS.info
	
	
- WHOIS : (Domain owners from ASN number)
	- Searching the whois database we can find all domains registered by the email “*.example.com”. Some people will use whois guard to hide this information but many companies forget to enable this.
	
		whois -h whois.radb.net  -- '-i origin AS714' | grep -Eo "([0-9.]+){4}/[0-9]+" | uniq
		OR
		whois -h whois.radb.net -- '-i origin ' | grep -Eo "([0- 9.]+){4}/[0-9]+" | sort -u
		
		Try command: host example.com  or dig example.com or ping exaple.com (to know the IP address)
		
- DNS Information
	- Without the Domain Name System (DNS) you wouldn't be able to correlate domains to Ips.
	- DNS records contain several bits of information that can be used to correlate domains to one another. 
	
	- The A, NS, and MX records are the most popular ways to find domains that are likely to be owned by the same person.
	
	- Try command: dig example.com  (give you CNAME - Use to check the subdomain takeover with help of https://github.com/EdOverflow/can-i-take-over-xyz )
		We can also see that the domain points to the CNAME page “anything.organization.com”, if we can register this domain we win. 
	- NOTE that organization could be GitHub, Cloudflare, aws etc. 

- Reverse DNS:
	
	- If domains share the same A, NS, or MX record then it is possible they are owned by the same person. 
	- We can use reverse IP, reverse name server, and reverse mail server searches to find these domains.
	- There may be some false positives but these can be filtered out. 
	
	- This technique will greatly increase your scope has a bug bounty hunter.


- Name server:
	- Large companies often host their own name servers so they can route traffic to the correct IPs. 
	- These servers are configured by the organization who owns them so it stands to say that
	- Microsoft wouldn’t have domains pointing to a Facebook name server.

	Nslookup -type=NS example.com
	
	- Reverse Name server:
	
		There are hundreds of thousands of domains pointing to GoDaddy nameservers,
		To check how many domains pointing to nameservers. 
	 	● https://domaineye.com
		but you may have a few false positives in there.
	
	
	- Reverse Mail Server:
		
		MX record returned must be owned by the target organization.
		To perform reverse mail server search
	 	● https://domaineye.com
	
		Nslookup -type=MX example.com
	
- Reverse IP
	- Utilizing the companies CIDR ranges we can perform a reverse IP search to find any
	domains that are hosted on those IPs. Some people will also use the A record of 
	their target domain to perform reverse IP search. Again, you can use 
	https://domaineye.com/ 



---
What we have learned till now:

## Finding Acquisition and Idea is find more Ip/domains related to target.

	Get IP : ping xyz.com or dig xyz or host xyz.com
	Check ASN
	check CIDR range :
	WHOIS : (Domain owners by same organizations or company)
	Reverse Whois
	DNS Information
	Reverse DNS 
	Reverse Name server
	Reverse Mail server
	Reverse IP
	Favicon hashing

- Note:  
	1. Get ASN from IP > Get CIDR range and save it to IP.TXT
	
	2. whois -h whois.radb.net  -- '-i origin AS714' | grep -Eo "([0-9.]+){4}/[0-9]+" | uniq | IP.TXT
	Run  Nmap	nmap -iL IP.TXT

	2. Collect subdomains and check CNAME of all the subdomains with single cammand.


### Tool recommended : Amass for asset discovery
- Amass to find ASM
		Amass intel -org example.com
- Amass to list of domains running on given ASN
		Amass intel -asn AS714
- To find domains on a given CIDR range.
		Amass intel -cidr  31.13.55.0/24
- Utilize reverse whois searches to find other domains purchased by the same user
		amass intel -whois -d example.com

