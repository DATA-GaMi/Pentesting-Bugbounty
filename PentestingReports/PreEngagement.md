# Pre-engagement: 
Help yourself to get your 1st Pentesting client and prepare yourself for client meeting?

    ## UNDERSTAND THE TARGET:
    ## Understanding will help you tailor the test and test results
    ## WHAT IS NEEDED TO TEST?
    ### TEST TYPES
    ## SCOPE :
    ## RULES OF ENGAGMENT
      ### CAN THINGS GO WRONG? - answer is YES.
      ### OTHER THINGS TO PLAN (In case you have team of pentesters or running a company)
    ## LEGAL REQUIRENMENTS FOR PENTESTING:
    ## Pentest report structure 
    ## If you are the Bringing out the clients for organization
      ### IF YOU ARE THE REPORT RECIPIENT
    ## HelpDesk & Reference : 
        ### PPre-engagement interaction (Recommended)
        ### Executive Reporting tamplate
        ### Technical Reporting tamplate
        ### A three-part video series on pen testing by Tim Medin(@timmedin)

## Understanding Pre-enganement:

    Obtained Legal Permission -> Written Permission from persons in authourity. 
    |
    Rules of Engagement -> Defines the scope of the penetration test.
    |
    NDA - > Signed agreement b\w cleint and provider.
    |
    Begin Penetration Testing 

![preengagements](https://user-images.githubusercontent.com/25515871/178856364-69087dd6-2458-467d-a3c2-60d2a2fcf464.png)


## What are the legal considerations for pentests?

For pentests, you need to have a contract in place before starting the engagement. 
The contract is often referred to as your get-out-of-jail-free card, but keep in mind 
that you could still be arrested for performing a pentest even if it's authorized.

Some other key legal considerations are outlined here:
    
     *Legal Authority* - Does the client really own the systems and/or applications they want you to test?
     *Damage Control* - Will the client assume liability for any interruptions or damage that occur as a 
    result of the pentest, or are you responsible?
     *Hack-back* - What happens when third-party data or services are damaged as a result of the 
    pentest? Who is responsible?
     *Licensing* - Do you need a private investigator license and Certification (gpen,cept, lpt and private investigator license) to perform a pentest?
     *Privacy Issues*  - Which jurisdiction will be recognized for the pentest? For example, if you are testing offices in Alabama and Virginia, 
    which state's laws will apply to the engagement?
     *Data Ownership* - Who owns any new methods or tools that are developed as a result of the pentest engagement?
     *Duty To Warn* - Is there a duty to warn third parties about pentest results based on the findings? 
    For example, you discover a high-severity zero-day exploit as a result of a pentest. 
    Do you report it?
    
    Scope of Work
    Professionalism

##  What are the Methodology/phases of pentesting?

This question could have different answers, depending on the hiring manager having real pentesting experience
or just passing a few knowledge-based certification exams.

    If you go by the penetration testing execution standard (PTES), there are seven 
    phases of pentesting, which are pre-engagement, intelligence gathering, threat 
    modeling, vulnerability analysis, exploitation, post-exploitation, and reporting.

    If you take a popular knowledge-based certification exam, the phases are 
    reconnaissance, scanning and enumeration, gaining access, maintaining access, and 
    covering tracks

## UNDERSTAND THE TARGET:
  
    Tester: You need to work to understand the target to design a better test
    Testees: You need to understand yourself so you can steer the test and design
    Recipients: What do you want from the test? What kind of output?

      Best Advise : NEVER ASSUME - Ask the dumb question
      eg :
        “I can guess, but I don’t like to be wrong, so can
        you describe for me what data or process if lost,
        destroyed, stolen, or leaked would cause the
        greatest damage to your organization?”

## Understanding will help you tailor the test and test results

    Why is the test being done? Compliance? Improved posture?
    Who is the size/class of yout network?
    What are the security goals and goal of pentesting?
    How many Ip's the nerwork have?
    How many web pages and input form the application have?
    What are the *biggest risks* to the org?
    You need to identify the goals of pentesting and BUSINESS RISK of client.
 
 ![business risk](https://user-images.githubusercontent.com/25515871/177207195-029b84f2-7fdb-4b55-b36f-4c1af8514bf5.png)

## WHAT IS NEEDED TO TEST?
Organizational goals will define the test.
Sometimes the test type is the first point, sometimes it is scope. 
It all depends on the goals and background information.
   
   1. Scope
   2. Types of tests
    And  Rules of engagement

### TEST TYPES
    
    Network pentesting (Internal Network & External Network also include by bypassing IDS & IBS)
    Assumed Breach
    Egress & C2 testing
    Red Team
    Purple Team
    Phishing
    Social Engineering
    *Web App & API testing
    *Mobile App pen testing
    cloud penitration testing
    Wireless pen testing
    Hardware/physical pentesting
    Many others...
    
## SCOPE :

    What is in scope? – This determines time (and cost)
    What is out of scope?
      Yes, this is the same question, but ask it too and 
      you will get extra information
      Why is it out of scope?
    What is owned by someone else?
   
## RULES OF ENGAGMENT

    What can *testers do* without additional permission?
    What should *testers not do* without additional permission?
    Usually pretty simple, simple enough to be a simple list
      Pre-approve engagement potentially are more dangerous attacks, such as password guessing.
      All other "riskier/ENGAGMENT" things need approval.
      
  ### CAN THINGS GO WRONG? - answer is YES.
  
       Most common Systems crash on their own and there is an increased risk with atypical traffic.
          Does it happen all the time? No
          Can it? Of course
       Never guarantee 100% uptime, because no SLAs are 100%
       And Learn from mistakes (redsiege.com/askus)       
 
 ### OTHER THINGS TO PLAN (In case you have team of pentesters or running a company)
      
      Contact numbers for testers and target, including backups
      Secure communication methods
      Regular discussion times on longer tests
      For longer create follow up tamplete to keep up with clients.
      Advice for ORG: Always ROTATE TESTING in ORGS. 
      If you never rotate, you will go out of business almost immediately.
      
      For indivisual pentester:
      Don't be affered to approch the ORGS for TESTING.
      ORGS Maybe looking for different testers after a certain time.


## Pentest report tamplate
The typical penetration test report is structured in the followed sections:

    Vulnerability Title
    info (Table of content )
    Executive Summary, technical report Summary
    Mode of operating (Methodology & also include OWASP Risk Rating)
    Test Scope (Company checklist as per as clients requirenmets or company/indivisual own clecklist)
    Findings Summary (Crate a table for all the findings)
    Findings (Include Vulnerability Title, Vulnerability Type, POC- steps to reproduce, SS , links, impact, CVSS Score, suggestion to fix etc)
    Recommendations(Final Thoughts & Tips)
    Appendix (Appendices)
    Revisions (Change history)
    
## If you are the Bringing out the clients for organization
    
    0. As a Tester, you need to understand Attackers have a near infinite amount of time
       No one is going to pay an infinite amount of money*
       So Set a realistic duration to get optimal results.
    1. Clients may just ask you to conduct pen test and don't know all the technical details and expect a good test.
       It's your Job is to teach test types and understand there requirenment by asking the righ questions, not shame them.
    2. Testers need to be available for outages, questions, or external compromise.
    3. Testers must Know your procurement process! and know their holiday schedule!
    4. If the target doesn't improve their security posture, you have been a waste of time.
    
### IF YOU ARE THE REPORT RECIPIENT
    Ask for what you want ahead of time 
    eg Some orgs want data in a spreadsheet or CSV , may ask for executive report or developer report etc
    Does the sample report have the info you want or need?
    Use the pen testers! Setup a debrief call to go through the report if you need it!
    
    
## Reference : 
   ### [Pre-engagement Interactions](https://pentest-standard.readthedocs.io/en/latest/preengagement_interactions.html)
   ### Executive-Level Reporting

            Business Impact
            Customization
            Talking to the business
            Affect bottom line
            Strategic Roadmap
            Maturity model
            Appendix with terms for risk rating
    
    
   ### Technical Reporting

            Identify systemic issues and technical root cause analysis
            Maturity Model
            Technical Findings

            Description
            Screen shots
            Ensure all PII is correctly redacted
            Request/Response captures
            PoC examples
            Ensure PoC code provides benign validation of the flaw

            Reproducible Results

            Test Cases
            Fault triggers

            Incident response and monitoring capabilities

            Intelligence gathering
            Reverse IDS
            Pentest Metrics
            Vuln. Analysis
            Exploitation
            Post-exploitation
            Residual effects (notifications to 3rd parties, internally, LE, etc…)

            Common elements

            Methodology
            Objective(s)
            Scope
            Summary of findings
            Appendix with terms for risk rating
            
 ## How do you measure the results of a pentest?
        
        It depends on what the organization is looking to measure. Common things to track  are the criticality of findings,
        how many issues that surfaced in the pentest actually get fixed, what types of vulnerabilities and exploits are 
        being discovered, and which new issues have been identified since the last pentest.
        
## How often should organizations have an external pentest performed?

        This answer depends on their compliance requirements, but generally, this should happen at least once a year
        and preferably on a quarterly basis. One thing you will notice when you're working as a pentester is that 
        many companies will not fix any of the issues you report, so you might come back a year later and identify the 
        same issues.

   ### A three-part video series on pen testing by Tim Medin(@timmedin)
[PART 1: THE START ](https://youtu.be/23F8QKTu86U)[Pentest process.pdf](https://github.com/RESETHACKER-COMMUNITY/Pentesting-Bugbounty/files/9042034/Pentest.process.pdf)

[PART 2: THE METHOD](https://redsiege.com/pentestprocess2) [Slides](http://www.redsiege.com/wp-content/uploads/2021/03/20210309-PEN-TEST-PROCESS-P2-THE-METHOD.pdf)

[PART 3: THE REPORT](https://www.youtube.com/watch?v=oyJ0atDagco) [Slides](https://redsiege.com/pentestprocess3)

